# Kittyèƒ½ç›´æ¥ç”¨å…¶ä»–è¦æ”¹ä»£ç†ç»„ï¼Œå»å¹¿å‘Šè§£é™¤adsæ³¨é‡Šï¼Œç”µè„‘è§£é™¤steamæ³¨é‡Šè®©ä¸‹è½½ç­‰èµ°ç›´è¿

## è®¾ç½® ##
mixed-port: 7890
mode: rule
ipv6: true
allow-lan: true
bind-address: "*"
log-level: silent
unified-delay: true
tcp-concurrent: true
find-process-mode: always
global-client-fingerprint: chrome
etag-support: true
experimental: { quic-go-disable-gso: true, quic-go-disable-ecn: true, dialer-ip4p-convert: false }
profile: { store-selected: true, store-fake-ip: true }
direct-dns: &direct-dns ["https://223.5.5.5/dns-query#DIRECT&h3=true&skip-cert-verify=true","https://101.102.103.104/dns-query#DIRECT&h3=false&skip-cert-verify=true"]
proxy-dns: &proxy-dns ["https://8.8.8.8/dns-query#PROXY&h3=true&skip-cert-verify=true","https://1.1.1.1/dns-query#PROXY&h3=true&skip-cert-verify=true"]
dns: { enable: true, cache-algorithm: arc, listen: 0.0.0.0:1053, ipv6: true, prefer-h3: true, use-hosts: true, use-system-hosts: true, enhanced-mode: fake-ip,fake-ip-filter-mode: whitelist, default-nameserver: [223.5.5.5,101.102.103.104], proxy-server-nameserver: *direct-dns, nameserver: *proxy-dns, direct-nameserver: *direct-dns }
sniffer: { enable: true, force-dns-mapping: true, parse-pure-ip: true, override-destination: true, sniff: { HTTP: { ports: [80, 8080-8880], override-destination: true }, TLS: { ports: [443, 8443] }, QUIC: { ports: [443, 8443] } },skip-domain: ["RULE-SET:private"], skip-src-address: ["RULE-SET:private_ip"] }
tun: { enable: true, stack: mixed, dns-hijack: ["any:53","tcp://any:53"], auto-route: true, auto-redirect: true, auto-detect-interface: true, strict-route: true, udp-timeout: 600 }


## è®¢é˜… ##
proxy-providers: { link: { type: http, url: "è®¢é˜…é“¾æ¥", path: ./link.yaml, interval: 86400, proxy: DIRECT, health-check: { enable: true, url: 'https://www.google.com/generate_204', interval: 7200, timeout: 5000, max-failed-times: 3, lazy: true }, override: { udp: true, tfo: true, mptcp: true, skip-cert-verify: true, ip-version: ipv6-prefer } } }
auto: &auto { type: url-test, include-all-providers: true, tolerance: 20, lazy: true, hidden: true }
bal: &bal { type: load-balance, include-all-providers: true, strategy: consistent-hashing, lazy: true, hidden: true }
proxy-groups:
  - { name: PROXY, type: select, proxies: [è‡ªåŠ¨é€‰æ‹©,è´Ÿè½½å‡è¡¡,æ•…éšœè½¬ç§»,æ‰‹åŠ¨é€‰æ‹©,DIRECT], include-all-providers: true, filter: "æµé‡" }
  - { name: è‡ªåŠ¨é€‰æ‹©, type: select, proxies: [æ–°åŠ å¡,æ—¥æœ¬,ç¾å›½,å¾·å›½,è‹±å›½,è·å…°,é¦™æ¸¯,éŸ©å›½], lazy: true }
  - { name: è´Ÿè½½å‡è¡¡, type: select, proxies: [æ–°åŠ å¡âº,æ—¥æœ¬âº,ç¾å›½âº,å¾·å›½âº,è‹±å›½âº,è·å…°âº,é¦™æ¸¯âº,éŸ©å›½âº], lazy: true }
  - { name: æ•…éšœè½¬ç§», type: fallback, include-all-providers: true, exclude-filter: "ğŸ‡¦ğŸ‡¶|æµé‡|åˆ°æœŸ|é‡ç½®", lazy: true }
  - { name: æ‰‹åŠ¨é€‰æ‹©, type: select, include-all-providers: true, exclude-filter: "ğŸ‡¦ğŸ‡¶|æµé‡|åˆ°æœŸ|é‡ç½®", lazy: true }
  - { name: MICROSOFT, type: select, proxies: [DIRECT,PROXY] }
  - { name: æ–°åŠ å¡, <<: *auto, filter: "ğŸ‡¸ğŸ‡¬" }
  - { name: æ—¥æœ¬, <<: *auto, filter: "ğŸ‡¯ğŸ‡µ" }
  - { name: ç¾å›½, <<: *auto, filter: "ğŸ‡ºğŸ‡¸" }
  - { name: å¾·å›½, <<: *auto, filter: "ğŸ‡©ğŸ‡ª" }
  - { name: è‹±å›½, <<: *auto, filter: "ğŸ‡¬ğŸ‡§" }
  - { name: è·å…°, <<: *auto, filter: "ğŸ‡³ğŸ‡±" }
  - { name: é¦™æ¸¯, <<: *auto, filter: "ğŸ‡­ğŸ‡°" }
  - { name: éŸ©å›½, <<: *auto, filter: "ğŸ‡°ğŸ‡·" }
  - { name: æ–°åŠ å¡âº, <<: *bal, filter: "ğŸ‡¸ğŸ‡¬" }
  - { name: æ—¥æœ¬âº, <<: *bal, filter: "ğŸ‡¯ğŸ‡µ" }
  - { name: ç¾å›½âº, <<: *bal, filter: "ğŸ‡ºğŸ‡¸" }
  - { name: å¾·å›½âº, <<: *bal, filter: "ğŸ‡©ğŸ‡ª" }
  - { name: è‹±å›½âº, <<: *bal, filter: "ğŸ‡¬ğŸ‡§" }
  - { name: è·å…°âº, <<: *bal, filter: "ğŸ‡³ğŸ‡±" }
  - { name: é¦™æ¸¯âº, <<: *bal, filter: "ğŸ‡­ğŸ‡°" }
  - { name: éŸ©å›½âº, <<: *bal, filter: "ğŸ‡°ğŸ‡·" }


## è§„åˆ™ ##
rules:
  # - RULE-SET,ads,REJECT
  - DOMAIN,services.googleapis.cn,PROXY
  - DOMAIN,mtalk.google.com,DIRECT
  - DOMAIN,mtalk4.google.com,DIRECT
  - DOMAIN,mtalk-dev.google.com,DIRECT
  - DOMAIN,mtalk-staging.google.com,DIRECT
  - DOMAIN,alt1-mtalk.google.com,DIRECT
  - DOMAIN,alt2-mtalk.google.com,DIRECT
  - DOMAIN,alt3-mtalk.google.com,DIRECT
  - DOMAIN,alt4-mtalk.google.com,DIRECT
  - DOMAIN,alt5-mtalk.google.com,DIRECT
  - DOMAIN,alt6-mtalk.google.com,DIRECT
  - DOMAIN,alt7-mtalk.google.com,DIRECT
  - DOMAIN,alt8-mtalk.google.com,DIRECT
  - DOMAIN,dl.google.com,DIRECT
  - DOMAIN,dl.l.google.com,DIRECT
  - DOMAIN,steamcdn-a.akamaihd.net,DIRECT
  - DOMAIN-SUFFIX,github.com,PROXY
  - DOMAIN-SUFFIX,githubusercontent.com,PROXY
  - DOMAIN-SUFFIX,lehu.in,DIRECT
  - DOMAIN-SUFFIX,808yun.cn,DIRECT
  - DOMAIN-SUFFIX,echs.top,DIRECT
  - DOMAIN-SUFFIX,adrules.top,DIRECT
  - IP-SUFFIX,8.8.8.8/24,PROXY,no-resolve
  - IP-SUFFIX,1.1.1.1/24,PROXY,no-resolve
  - IP-SUFFIX,223.5.5.5/24,DIRECT,no-resolve
  - IP-SUFFIX,154.201.76.158/24,DIRECT,no-resolve
  - IP-SUFFIX,101.102.103.104/24,DIRECT,no-resolve
  - RULE-SET,private,DIRECT
  - RULE-SET,microsoft,MICROSOFT
  # - RULE-SET,steam_cn,DIRECT
  - RULE-SET,bilibili,DIRECT
  - RULE-SET,cn,DIRECT
  - RULE-SET,private_ip,DIRECT,no-resolve
  - RULE-SET,hk_ip,DIRECT,no-resolve
  - RULE-SET,cn_ip,DIRECT
  - MATCH,PROXY
ip: &ip { type: http, interval: 86400, behavior: ipcidr, format: mrs, proxy: PROXY }
domain: &domain { type: http, interval: 86400, behavior: domain, format: mrs, proxy: PROXY }
rule-providers:
  # ads: { type: http, interval: 86400, behavior: domain, format: yaml, proxy: DIRECT, url: "https://cdn.uura.cn/AWAvenue/AWAvenue-Ads-Rule-Clash.yaml", path: ./ads.yaml }
  private: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.mrs", path: ./private.mrs }
  microsoft: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/microsoft.mrs", path: ./microsoft.mrs }
  # steam_cn: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/steam@cn.mrs", path: ./steam_cn.mrs }
  bilibili: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/bilibili.mrs", path: ./bilibili.mrs }
  cn: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.mrs", path: ./cn.mrs }
  private_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/private.mrs", path: ./private_ip.mrs }
  cn_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.mrs", path: ./cn_ip.mrs }
  hk_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/hk.mrs", path: ./hk_ip.mrs }
