# Ëá™Áî®Ê®°ÊùøÔºå‰ª£ÁêÜËΩØ‰ª∂ https://github.com/echs-top/proxy/blob/main/‰ª£ÁêÜËΩØ‰ª∂.md


## ËÆæÁΩÆ ##
mixed-port: 7890
mode: rule
ipv6: true
allow-lan: false
bind-address: "*"
log-level: silent
unified-delay: true
tcp-concurrent: true
disable-keep-alive: true
find-process-mode: always
global-client-fingerprint: chrome
etag-support: true
# external-controller: 0.0.0.0:9090
# secret: ""
# external-ui: ./dashboard
# external-ui-url: https://github.com/Zephyruso/zashboard/releases/latest/download/dist.zip
experimental: { quic-go-disable-gso: false, quic-go-disable-ecn: true, dialer-ip4p-convert: false }
profile: { store-selected: true, store-fake-ip: false }
direct-dns: &direct-dns ["quic://dns.alidns.com#DIRECT","https://https://doh.pub/dns-query#DIRECT&h3=false"]
proxy-dns: &proxy-dns ["https://dns.google/dns-query#PROXY&h3=true","https://cloudflare-dns.com/dns-query#PROXY&h3=true"]
hosts: { dns.google: ['8.8.8.8','8.8.4.4','2001:4860:4860::8888','2001:4860:4860::8844'], dns.alidns.com: ['223.5.5.5','223.6.6.6','2400:3200::1','2400:3200:baba::1'], doh.pub: ['119.29.29.29','2402:4e00::'], cloudflare-dns.com: ['1.1.1.1','1.0.0.1','2606:4700:4700::1111','2606:4700:4700::1001'] }
dns: { enable: true, cache-algorithm: arc, listen: 0.0.0.0:1053, ipv6: true, prefer-h3: true, use-hosts: true, use-system-hosts: false, respect-rules: false, enhanced-mode: fake-ip, fake-ip-range: 28.0.0.1/8, fake-ip-filter-mode: whitelist, default-nameserver: [223.5.5.5,119.29.29.29], proxy-server-nameserver: *direct-dns, nameserver: *proxy-dns,direct-nameserver: *direct-dns, direct-nameserver-follow-policy: true, nameserver-policy: { 'rule-set:private': [system], 'rule-set:ads': ['rcode://success'] } }
sniffer: { enable: true, force-dns-mapping: false, parse-pure-ip: false, override-destination: true, sniff: { HTTP: { ports: [80, 8080-8880], override-destination: true }, TLS: { ports: [443, 8443] }, QUIC: { ports: [443, 8443] } },skip-domain: ["RULE-SET:private"], skip-src-address: ["RULE-SET:private_ip"] }
tun: { enable: true, stack: mixed, dns-hijack: ["any:53","tcp://any:53"], mtu: 9000, auto-route: true, auto-redirect: true, auto-detect-interface: true, strict-route: true, udp-timeout: 600 }


## ËÆ¢ÈòÖ ##
providers: &providers { type: http, interval: 86400, proxy: DIRECT, header: { User-Agent: ["clash-verge/v2.3.2"] }, health-check: { enable: true, url: 'https://www.google.com/generate_204', interval: 7200, timeout: 5000, max-failed-times: 3, lazy: true }, override: { udp: true, tfo: true, mptcp: true, ip-version: ipv6-prefer } }
proxy-providers:
  link: { <<: *providers, url: "ËÆ¢ÈòÖÈìæÊé•", path: ./link.yaml }
  # link2: { <<: *providers, url: "‰ø©Êú∫Âú∫‰∏ÄËµ∑Áî®ÁúüÁöÑÂ•ΩÂòõ", path: ./link2.yaml }
auto: &auto { type: url-test, include-all-providers: true, tolerance: 20, lazy: true, hidden: true }
bal: &bal { type: load-balance, include-all-providers: true, strategy: round-robin, lazy: true, hidden: true }
proxy-groups:
  - { name: PROXY, type: select, proxies: [Ëá™Âä®ÈÄâÊã©,Ë¥üËΩΩÂùáË°°,ÊïÖÈöúËΩ¨Áßª,ÊâãÂä®ÈÄâÊã©,DIRECT], include-all-providers: true, filter: "ÊµÅÈáè" }
  # Êñ∞Âä†Âù°,Êó•Êú¨,ÁæéÂõΩ,È¶ôÊ∏Ø,Âè∞Êπæ,Âæ∑ÂõΩ,Ëã±ÂõΩ,Ëç∑ÂÖ∞,Èü©ÂõΩ,Âä†ÊãøÂ§ß,Âç∞Â∫¶,‰øÑÁΩóÊñØ,ÂúüËÄ≥ÂÖ∂,Ë∂äÂçó,Âç∞Â∞º
  - { name: Ëá™Âä®ÈÄâÊã©, type: select, proxies: [Êñ∞Âä†Âù°,Êó•Êú¨,ÁæéÂõΩ,È¶ôÊ∏Ø,Âæ∑ÂõΩ,Ëã±ÂõΩ,Ëç∑ÂÖ∞,Èü©ÂõΩ], lazy: true }
  # Êñ∞Âä†Âù°‚Å∫,Êó•Êú¨‚Å∫,ÁæéÂõΩ‚Å∫,È¶ôÊ∏Ø‚Å∫,Âè∞Êπæ‚Å∫,Âæ∑ÂõΩ‚Å∫,Ëã±ÂõΩ‚Å∫,Ëç∑ÂÖ∞‚Å∫,Èü©ÂõΩ‚Å∫,Âä†ÊãøÂ§ß‚Å∫,Âç∞Â∫¶‚Å∫,‰øÑÁΩóÊñØ‚Å∫,ÂúüËÄ≥ÂÖ∂‚Å∫,Ë∂äÂçó‚Å∫,Âç∞Â∞º‚Å∫
  - { name: Ë¥üËΩΩÂùáË°°, type: select, proxies: [Êñ∞Âä†Âù°‚Å∫,Êó•Êú¨‚Å∫,ÁæéÂõΩ‚Å∫,È¶ôÊ∏Ø‚Å∫,Âæ∑ÂõΩ‚Å∫,Ëã±ÂõΩ‚Å∫,Ëç∑ÂÖ∞‚Å∫,Èü©ÂõΩ‚Å∫], lazy: true }
  - { name: ÊïÖÈöúËΩ¨Áßª, type: fallback, include-all-providers: true, exclude-filter: "üá¶üá∂|ÊµÅÈáè|Âà∞Êúü|ÈáçÁΩÆ", lazy: true }
  - { name: ÊâãÂä®ÈÄâÊã©, type: select, include-all-providers: true, exclude-filter: "üá¶üá∂|ÊµÅÈáè|Âà∞Êúü|ÈáçÁΩÆ", lazy: true }
  - { name: Êñ∞Âä†Âù°, <<: *auto, filter: "üá∏üá¨|Êñ∞Âä†Âù°" }
  - { name: Êó•Êú¨, <<: *auto, filter: "üáØüáµ|Êó•Êú¨" }
  - { name: ÁæéÂõΩ, <<: *auto, filter: "üá∫üá∏|ÁæéÂõΩ" }
  - { name: È¶ôÊ∏Ø, <<: *auto, filter: "üá≠üá∞|È¶ôÊ∏Ø" }
  # - { name: Âè∞Êπæ, <<: *auto, filter: "üáπüáº|Âè∞Êπæ" }
  - { name: Âæ∑ÂõΩ, <<: *auto, filter: "üá©üá™|Âæ∑ÂõΩ" }
  - { name: Ëã±ÂõΩ, <<: *auto, filter: "üá¨üáß|Ëã±ÂõΩ" }
  - { name: Ëç∑ÂÖ∞, <<: *auto, filter: "üá≥üá±|Ëç∑ÂÖ∞" }
  - { name: Èü©ÂõΩ, <<: *auto, filter: "üá∞üá∑|Èü©ÂõΩ" }
  # - { name: Âä†ÊãøÂ§ß, <<: *auto, filter: "üá®üá¶|Âä†ÊãøÂ§ß" }
  # - { name: Âç∞Â∫¶, <<: *auto, filter: "üáÆüá≥|Âç∞Â∫¶" }
  # - { name: ‰øÑÁΩóÊñØ, <<: *auto, filter: "üá∑üá∫|‰øÑÁΩóÊñØ" }
  # - { name: ÂúüËÄ≥ÂÖ∂, <<: *auto, filter: "üáπüá∑|ÂúüËÄ≥ÂÖ∂" }
  # - { name: Ë∂äÂçó, <<: *auto, filter: "üáªüá≥|Ë∂äÂçó" }
  # - { name: Âç∞Â∞º, <<: *auto, filter: "üáÆüá©|Âç∞Â∞º" }
  - { name: Êñ∞Âä†Âù°‚Å∫, <<: *bal, filter: "üá∏üá¨|Êñ∞Âä†Âù°" }
  - { name: Êó•Êú¨‚Å∫, <<: *bal, filter: "üáØüáµ|Êó•Êú¨" }
  - { name: ÁæéÂõΩ‚Å∫, <<: *bal, filter: "üá∫üá∏|ÁæéÂõΩ" }
  - { name: È¶ôÊ∏Ø‚Å∫, <<: *bal, filter: "üá≠üá∞|È¶ôÊ∏Ø" }
  # - { name: Âè∞Êπæ‚Å∫, <<: *bal, filter: "üáπüáº|Âè∞Êπæ" }
  - { name: Âæ∑ÂõΩ‚Å∫, <<: *bal, filter: "üá©üá™|Âæ∑ÂõΩ" }
  - { name: Ëã±ÂõΩ‚Å∫, <<: *bal, filter: "üá¨üáß|Ëã±ÂõΩ" }
  - { name: Ëç∑ÂÖ∞‚Å∫, <<: *bal, filter: "üá≥üá±|Ëç∑ÂÖ∞" }
  - { name: Èü©ÂõΩ‚Å∫, <<: *bal, filter: "üá∞üá∑|Èü©ÂõΩ" }
  # - { name: Âä†ÊãøÂ§ß‚Å∫, <<: *bal, filter: "üá®üá¶|Âä†ÊãøÂ§ß" }
  # - { name: Âç∞Â∫¶‚Å∫, <<: *bal, filter: "üáÆüá≥|Âç∞Â∫¶" }
  # - { name: ‰øÑÁΩóÊñØ‚Å∫, <<: *bal, filter: "üá∑üá∫|‰øÑÁΩóÊñØ" }
  # - { name: ÂúüËÄ≥ÂÖ∂‚Å∫, <<: *bal, filter: "üáπüá∑|ÂúüËÄ≥ÂÖ∂" }
  # - { name: Ë∂äÂçó‚Å∫, <<: *bal, filter: "üáªüá≥|Ë∂äÂçó" }
  # - { name: Âç∞Â∞º‚Å∫, <<: *bal, filter: "üáÆüá©|Âç∞Â∞º" }


## ËßÑÂàô ##
rules:
  - RULE-SET,ads,REJECT
  - RULE-SET,private,DIRECT
  - RULE-SET,private_ip,DIRECT,no-resolve
  - RULE-SET,proxy_domain,PROXY
  - RULE-SET,direct_domain,DIRECT
  - RULE-SET,bilibili,DIRECT
  - RULE-SET,gfw,PROXY
  - RULE-SET,cn,DIRECT
  - RULE-SET,proxy_ip,PROXY
  - RULE-SET,direct_ip,DIRECT
  - RULE-SET,hk_ip,DIRECT
  - RULE-SET,cn_ip,DIRECT
  - MATCH,PROXY
ip: &ip { type: http, interval: 86400, behavior: ipcidr, format: yaml, proxy: PROXY }
domain: &domain { type: http, interval: 86400, behavior: domain, format: yaml, proxy: PROXY }
rule-providers:
  ads: { <<: *domain, url: "https://raw.githubusercontent.com/TG-Twilight/AWAvenue-Ads-Rule/main/Filters/AWAvenue-Ads-Rule-Clash.yaml", path: ./ads.yaml }
  proxy_domain: { <<: *domain, url: "https://raw.githubusercontent.com/echs-top/proxy/main/rules/proxy_domain.yaml", path: ./proxy_domain.yaml }
  direct_domain: { <<: *domain, url: "https://raw.githubusercontent.com/echs-top/proxy/main/rules/direct_domain.yaml", path: ./direct_domain.yaml }
  private: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.yaml", path: ./private.yaml }
  bilibili: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/bilibili.yaml", path: ./bilibili.yaml }
  gfw: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/gfw.yaml", path: ./gfw.yaml }
  cn: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.yaml", path: ./cn.yaml }
  private_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/private.yaml", path: ./private_ip.yaml }
  proxy_ip: { <<: *ip, url: "https://raw.githubusercontent.com/echs-top/proxy/main/rules/proxy_ip.yaml", path: ./proxy_ip.yaml }
  direct_ip: { <<: *ip, url: "https://raw.githubusercontent.com/echs-top/proxy/main/rules/direct_ip.yaml", path: ./direct_ip.yaml }
  cn_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.yaml", path: ./cn_ip.yaml }
  hk_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/hk.yaml", path: ./hk_ip.yaml }
